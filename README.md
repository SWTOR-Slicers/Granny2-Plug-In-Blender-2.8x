#### WARNING: not yet compatible with Blender 4.0. We are working on that (there is a **[beta](https://github.com/SWTOR-Slicers/Granny2-Plug-In-Blender-2.8x/releases)** in Releases you can try).
#### WARNING: Blender 3.6.8 and 3.6.9 introduce a severe incompatibility. Please stay on 3.6.7 or earlier (you can find Blender 3.6.7 it in **[this list](https://www.blender.org/download/lts/3-6/)**. Scroll down that page or do a page search by "3.6.7").

#### IMPORTANT NOTICE: [the latest version of this importer add-on](https://github.com/SWTOR-Slicers/Granny2-Plug-In-Blender-2.8x/releases/latest) can import objects, characters, and skeletons from both the old 32 bit and the new 64 bit (Game Update 7.2.1 onwards) SWTOR game apps.<br><br>Importing animation files from the 64 bit game is still being worked on. If you need those last features, you can use the animation files from a 32 bit game assets extraction (if needed, there is a backup of the game's .tor files that can be downloaded from **[here](https://drive.google.com/drive/folders/1ZkBNz1cK_IXBxBd4OIYL1jRImnnfHXKW?usp=sharing)**. Only the files with an "anim" in their filenames are required).

# SWTOR Granny2 (.gr2) Import/Export Add-on for Blender 2.8 to 3.6

![alt text](images/readme_gr2_addon_010.png)

### Description.

This add-on provides Blender with several import/export features for **Star Wars: The Old Republic** (**SWTOR**) 3D assets.

* **SWTOR .gr2 objects and armatures import:**  
  Imports and exports SWTOR's specific flavor of the .gr2 ("granny") 3D model format, including rigging data (vertex groups, weights) and armatures ("skeletons"). **It can import multiple files at once**.  
**SWTOR 32bit and 64bit-compatible**.

* **SWTOR .json character data import:**  
  Imports .json files generated by TORCommunity.com's Character Designer and NPC database describing all the assets and data necessary to auto-assemble and auto-texture a Player Character or a NPC. **Please check our guides in this Github's [**WikiPedia**](https://github.com/SWTOR-Slicers/WikiPedia/wiki/locating-swtor-characters-assets-automatically) before trying it!** It can be used directly, but there are other add-ons that do it for us in a more user-friendly manner.  
  **SWTOR 32bit and 64bit-compatible**.

* **SWTOR .jba animations import:**  
Imports and applies SWTOR's .jba animation files. It has some issues but it mostly works.  
  **SWTOR 32bit-compatible only**.
  
* **SWTOR .clo physics data import:**  
Imports SWTOR's .clo files for converting physics-based bones data (clothes, hair, Twi'lek lekku, etc.) to Blender physics simulations. **Experimental and extremely wonky!**  
  **SWTOR 32bit-compatible only**.



**This add-on's produces a series of Shader Nodegroups that replicate SWTOR's materials system**. They allow for using the game's texture files and materials information without requiring any previous manipulation in a third party painting app: the Shaders do all the massaging involved (turning "green" normal maps to "purple", etc.) on the fly.

The shaders are created on the fly when importing .json character data files for auto-assembling, and are also available through Blender's Shader Editor's Add menu.

### Download.

[**Download the latest release from here**](https://github.com/SWTOR-Slicers/Granny2-Plug-In-Blender-2.8x/releases/latest). It's the ``io_scene_gr2.zip`` file in the latest release's Assets list. **DON'T UNZIP IT!** Blender directly handles it as such .zip file. 

### Installation.

Install it in your Blender app **[through the usual means](https://docs.blender.org/manual/en/latest/editors/preferences/addons.html)** (Edit menu > Preferences > Add-ons > Install > Enable). If you had a previous version of the add-on installed, disable and remove it first).

**For directions on its usage, please consult our [**WikiPedia**](https://github.com/SWTOR-Slicers/WikiPedia/wiki).**

### About the "Legacy" version of this add-on.

The baking-friendlier **Legacy version** of the add-on **is not compatible with the 64 bit version of SWTOR's assets**. Its shaders and materials are, though, and they happen to work with Blender's baking workflow better. Given that, **we are adding modern-to-legacy material conversion tools to some of our other add-ons**, which don't depend on the presence of this one.

It can still be downloaded from [**this link**](https://github.com/SWTOR-Slicers/Granny2-Plug-In-Blender-2.8x/releases/tag/v.3.0).
